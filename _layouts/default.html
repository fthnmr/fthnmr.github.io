<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=3">
  <title>{{ page.title }} â€“ {{ site.title }}</title>
  <meta name="description" content="{{ page.description | default: site.description }}">

  {% include head.html %}
</head>
<body class="bg-black text-white font-mono min-h-screen flex flex-col">

  <!-- Header -->
  <header class="pt-12 pb-8 px-4 text-center relative">
    <h1 class="text-4xl sm:text-5xl md:text-6xl font-bold mb-2">{{ site.title }}</h1>

    <!-- Theme toggle button -->
    <button id="theme-toggle" class="absolute top-4 right-4 px-4 py-2 border rounded hover:bg-gray-700">
      Toggle Theme
    </button>

    {% if page.subtitle %}
      <p class="text-gray-400 text-lg sm:text-xl mb-8">{{ page.subtitle }}</p>
    {% endif %}

    <!-- Navigation / Quick Links -->
    <div class="flex flex-wrap justify-center gap-4 mb-4">
      <a href="{{ '/about' | relative_url }}" class="px-6 py-3 border border-white rounded hover:bg-white hover:text-black transition">About</a>
      <a href="{{ '/blog' | relative_url }}" class="px-6 py-3 border border-white rounded hover:bg-white hover:text-black transition">Blog Posts ğŸ“–</a>
      <a href="{{ '/contact' | relative_url }}" class="px-6 py-3 border border-white rounded hover:bg-white hover:text-black transition">Business Hours â°</a>

      <!-- Insider (Coming Soon) -->
      <button id="insider-btn" class="px-6 py-3 border border-white rounded hover:bg-white hover:text-black transition">
        Join Insider â­
      </button>
    </div>

    <!-- Socials -->
    <div class="flex justify-center gap-4">
      <a href="https://wa.me/c/23058676520" target="_blank" class="px-4 py-2 border border-white rounded hover:bg-white hover:text-black transition">Product Catalog ğŸ›’</a>
      <a href="https://whatsapp.com/channel/0029Vb4tcrU2v1InZ3RIcD0b" target="_blank" class="px-4 py-2 border border-white rounded hover:bg-white hover:text-black transition">Avaibility ğŸ“¦</a>
      <a href="https://swag.fthnmr.com" target="_blank" class="px-4 py-2 border border-white rounded hover:bg-white hover:text-black transition">Merch Shop ğŸ›ï¸</a>
      <a href="https://maps.app.goo.gl/RnxQ22nL4J95BTNE8" target="_blank" class="px-4 py-2 border border-white rounded hover:bg-white hover:text-black transition">Find Us ğŸ“</a>
    </div>
  </header>

  <!-- Main Content -->
  <main class="flex-grow px-4 max-w-6xl mx-auto space-y-8">
    {{ content }}
  </main>

  <!-- Footer -->
  <footer class="text-gray-500 text-sm py-6 text-center">
    <p>Â© <span id="year"></span> {{ site.title }}. All rights reserved.</p>
  </footer>

  <script>
    // Set current year
    document.getElementById("year").textContent = new Date().getFullYear();

    // Insider popup
    document.getElementById('insider-btn').addEventListener('click', () => {
      alert("Join Insider (Coming Soon):\n- First dibs on new mushroom varieties\n- Access to product availability channel\n- 5% discount & a privilege QR card\n- High-res pics & research-only content");
    });

    // Track newcomers via localStorage
    (function() {
      const newcomerKey = 'fthnmr_newcomer';
      const firstVisit = !localStorage.getItem(newcomerKey);
      if (firstVisit) localStorage.setItem(newcomerKey, Date.now());

      // Push to GTM dataLayer
      window.dataLayer = window.dataLayer || [];
      window.dataLayer.push({
        'event': 'visitorStatus',
        'newcomer': firstVisit,
        'firstVisit': localStorage.getItem(newcomerKey)
      });
    })();
  </script>

  <script src="{{ '/assets/js/theme-toggle.js' | relative_url }}" defer></script>
</body>
</html>